# 🎮 求生之路2 外部辅助工具

一个基于C#开发的求生之路2外部内存操作工具，使用现代UI框架和高级功能实现。

## ⚠️ 重要声明

**本项目仅用于教育和研究目的**，旨在学习外部进程内存操作技术和游戏逆向工程。

**⚠️ 风险警告：**
- 在VAC保护的服务器中使用此工具将导致**永久账户封禁**
- 仅建议在本地单机模式或私人服务器中使用
- **使用风险完全自负**

## 🎯 项目概述

`l4d2External` 是一个外部进程辅助工具，通过读取和修改游戏内存来实现各种功能。与传统的DLL注入方式不同，此工具作为独立进程运行，通过Windows API与游戏进程交互。

### 核心特点
- 🔒 **外部进程**：无需注入DLL，降低检测风险
- 🎨 **现代UI**：基于ImGui的直观用户界面
- ⚡ **高性能**：优化的内存读取和渲染系统
- 🛠️ **模块化设计**：清晰的代码结构，易于维护和扩展

## ✨ 功能特性

### 🎯 智能自瞄系统
- **多种瞄准模式**：
  - 最近距离优先
  - 最接近准星优先
- **目标选择**：头部/胸部精确瞄准
- **平滑瞄准**：可调节的自然移动轨迹
- **目标过滤**：支持选择性瞄准不同类型敌人
- **FOV限制**：可视化瞄准范围圆圈
- **区域瞄准**：基于距离的目标筛选

### 👁️ 高级透视系统 (ESP)
- **实体可视化**：透过墙壁显示所有游戏实体
- **血量显示**：实时血量条和数值显示
- **分类标识**：不同颜色区分实体类型
- **骨骼标记**：头部和身体位置标记
- **名称显示**：实体名称和详细信息
- **自定义颜色**：完全可配置的视觉样式

### 🐰 移动增强功能
- **自动连跳**：智能跳跃时机检测
- **近战自动化**：自动近战攻击系统
- **区域攻击**：可视化攻击范围
- **目标筛选**：选择性攻击不同感染者类型

### 🎨 用户界面
- **ImGui界面**：现代化的覆盖层界面
- **实时配置**：游戏中即时调整所有设置
- **颜色选择器**：RGB颜色自定义
- **分页布局**：清晰的功能分类
- **状态显示**：实时显示工具运行状态

## 🏗️ 技术架构

### 核心组件
- **Program.cs**：主程序入口和覆盖层管理
- **EntityManager.cs**：游戏实体检测和管理
- **AimbotController.cs**：智能瞄准系统控制器
- **Renderer.cs**：3D到2D坐标转换和渲染
- **ESP.cs**：透视系统绘制功能
- **BunnyHop.cs**：连跳功能实现
- **GuiManager.cs**：用户界面管理
- **NativeMethods.cs**：Windows API调用
- **Offsets.cs**：内存偏移量定义

### 技术特性
- **框架**：.NET 8.0 + C# 12
- **UI库**：ImGui.NET + ClickableTransparentOverlay
- **内存操作**：Swed32库
- **数学计算**：System.Numerics + Vortice.Mathematics
- **构建系统**：单文件发布，自包含运行时

### 内存管理
- **模式扫描**：自动偏移量检测
- **安全读取**：异常处理和验证
- **多线程**：分离逻辑和渲染线程
- **实体缓存**：优化性能的实体管理

## 🚀 快速开始

### 系统要求
- Windows 10/11 (x86/x64)
- 求生之路2 (Steam版本)
- .NET 8.0 运行时 (自包含版本无需安装)
- 管理员权限
### 使用方法

1. **启动游戏**：先运行求生之路2
2. **运行工具**：以管理员身份运行编译的exe文件
3. **配置功能**：使用Insert键打开/关闭菜单界面
4. **开始使用**：根据需要启用各项功能

## ⚙️ 详细配置

### 自瞄系统配置
- **启用自瞄**：主开关控制
- **瞄准模式**：
  - `最近距离`：优先瞄准距离最近的目标
  - `最接近准星`：优先瞄准最接近准星的目标
- **瞄准部位**：头部或胸部选择
- **平滑度**：0.01-1.0，控制瞄准移动的自然程度
- **FOV圆圈**：10-500像素，可视化瞄准范围
- **目标类型**：可选择瞄准的敌人类型
  - Boss感染者 (Tank, Witch)
  - 特殊感染者 (Hunter, Smoker, Boomer等)
  - 普通感染者
  - 幸存者
- **区域瞄准**：限制瞄准距离范围

### 透视系统配置
- **启用ESP**：主开关控制
- **显示目标**：分别控制不同类型实体的显示
- **颜色设置**：为每种实体类型自定义颜色

### 移动功能配置
- **连跳**：自动连续跳跃
- **近战区域**：自动近战攻击
  - 攻击范围设置
  - 目标类型筛选
  - 可视化攻击范围

### 控制按键
- **菜单切换**：del键
- **自瞄激活**：shift
- **连跳**：鼠标侧键

## 🔧 技术细节

### 内存偏移量
工具依赖以下关键偏移量 (在Offsets.cs中定义)：
```csharp
// 视图矩阵 (用于3D到2D转换)
ViewMatrix = 0x601FDC
ViewMatrixOffset = 0x2E4

// 本地玩家和实体列表
localplayer = 0x726BD8
entityList = 0x73A574 + 0x10

// 实体属性
Health = 0xEC          // 当前血量
MaxHealth = 0x1FDC     // 最大血量
Lifestate = 0x144      // 生命状态
Origin = 0x124         // 3D坐标
ViewOffset = 0xF4      // 视角偏移
TeamNum = 0xE4         // 队伍编号
```
### 渲染系统
- **3D到2D转换**：使用游戏的视图矩阵进行坐标转换
- **ESP绘制**：ImGui绘制列表实现高性能渲染
- **区域可视化**：数学计算实现圆形区域绘制
- **颜色管理**：RGBA颜色系统支持透明度
## 🛠️ 开发环境

### 必需工具
- Visual Studio 2022 或 Visual Studio Code
- .NET 8.0 SDK
- Git

## 🐛 已知问题

1. **偏移量更新**：游戏更新后可能需要更新内存偏移量
2. **杀毒软件**：可能被误报为恶意软件
3. **管理员权限**：必须以管理员身份运行才能访问游戏内存
4. **兼容性**：仅支持Steam版本的求生之路2

## 🔄 更新维护

### 偏移量更新
当游戏更新后，如果工具无法正常工作，需要：
1. 使用内存扫描工具找到新的偏移量
2. 更新`Offsets.cs`文件中的相应值
3. 重新编译项目

### 社区资源
- 偏移量更新通常可以在游戏逆向工程社区找到
- 建议关注相关论坛和GitHub仓库获取最新信息

## 📄 许可证

本项目采用MIT许可证 - 详情请参见[LICENSE](LICENSE.txt)文件。
---

**⚠️ 再次提醒：本工具仅用于教育目的，请勿在VAC保护的服务器中使用！**
